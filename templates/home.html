{% extends "base.html" %}

{% block title %}
Personal Library
{% endblock %}

{% block body %}

<div class="px-4 my-5 text-center border-bottom">
    <div class="d-flex flex-column align-items-center">
        {% if not current_user.is_authenticated %}
        <a
            tabindex="0" class="important-btn-circle" role="button" data-bs-toggle="popover" data-bs-trigger="hover focus"
            data-bs-title="Authentication required" 
            data-bs-content="You need to be logged to access that section!!">!
        </a>
        {% endif %}
        <h1 class="display-4 fw-bold text-body-emphasis pt-2">Have all your lectures in one place</h1>
    </div>
    <div class="col-lg-6 mx-auto">
        <p class="lead mb-4 pt-2">
            In your private library, you can add as many books as you want, from classic novels to the latest bestsellers. Categorize them, search through your collection, and enjoy a personalized reading journey.
        </p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5 pt-3">
            <a type="button" href="/bookshelf/" class="btn btn-dark btn-lg px-4 me-sm-3 fw-bold">My books</a>
            <a type="button" href="/book/create/" class="btn btn-outline-secondary btn-lg px-4 fw-bold" style="border-width: 2px;">Add book</a>
        </div>
    </div>
    <div class="overflow-hidden" style="max-height: 50vh;">
        <div class="container px-5" style="overflow: hidden; width: 1000px; height: 100%; border-radius: 15px;">
            <img src="{{ url_for('static', filename='images/digital_bookshelf.svg') }}"
                 class="img-fluid border rounded-3 shadow-lg mb-4" 
                 alt="Digital bookshelf" 
                 style="object-fit: contain; width: 100%; height: 100%;" 
                 loading="lazy">
        </div>
    </div>
</div>

<hr class="my-5" style="border: none; background-color: #ffffff; height: 45px; 
    box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.6), inset 0 -5px 15px rgba(0, 0, 0, 0.6);">

<div class="container my-5">
    <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center">
      <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
        <div class="d-flex flex-column align-items-center">
            {% if not current_user.is_authenticated %}
            <a
            tabindex="0" class="important-btn-circle" role="button" data-bs-toggle="popover" data-bs-trigger="hover focus"
            data-bs-title="Authentication required" 
            data-bs-content="You need to be logged to access that section!!">!
            </a>
            {% endif %}
            <h1 class="display-4 fw-bold lh-1 text-body-emphasis pt-2">Track your favourite authors</h1>
        </div>
        <p class="lead pt-2">
            Store your favourite authors alongside your books, easily organize them, and keep track of all their works and creations in one convenient, centralized place, making it simple to manage your entire literary collection.
        </p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3 pt-3">
          <a type="button" href="/authors/" class= "btn btn-dark btn-lg px-4 me-md-2 fw-bold">My authors</a>
          <a type="button" href="/authors/create" class="btn btn-outline-secondary btn-lg px-4 fw-bold" style="border-width: 2px;">Add author</a>
        </div>
      </div>
      <div class="col-lg-4 ms-5">
          <img src="{{ url_for('static', filename='images/author_details.svg') }}"
          class="border rounded-3 shadow-lg" 
          alt="Digital authors details"
          width="520">
      </div>
    </div>
</div>

{% if not current_user.is_authenticated %}
<hr class="my-5" style="border: none; background-color: #ffffff; height: 45px; 
    box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.6), inset 0 -5px 15px rgba(0, 0, 0, 0.6);">

<div class="container col-xxl-8 px-4 pb-5">
    <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
        <div class="col-10 col-sm-8 col-lg-6">
            <img src="{{ url_for('static', filename='images/login.png') }}" 
                 class="d-block mx-lg-auto img-fluid" 
                 alt="Login illustration" 
                 width="700" height="500" 
                 loading="lazy">
        </div>
        <div class="col-lg-6">
            <h1 class="display-4 fw-bold text-body-emphasis lh-1 mb-3">Identify yourself before start</h1>
            <p class="lead pt-2">
                To enjoy all the features of your personal reading space, you need to log in to your account.
                <br>
                If you already have an account, simply log in below. If you don't have an account yet, you can easily create one to get started.
            </p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start pt-3">
                <a type="button" href="/login/" class="btn btn-dark btn-lg px-4 me-md-2 fw-bold">Log in</a>
                <a type="button" href="/signup/" class="btn btn-outline-secondary btn-lg px-4 fw-bold" style="border-width: 2px;">Sign up</a>
            </div>
        </div>
    </div>
</div>
{% endif %}

<script>
    const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
    const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl));
</script>

{% endblock %}